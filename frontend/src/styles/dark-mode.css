/* ============================================
   Dark Mode Styles
   ============================================ */

/* Global Text Color Overrides - Must be first */
[data-theme="dark"] {
  color: var(--text-primary) !important;
}

/* Force text elements to be light in dark mode â€” scoped to avoid breaking
   Bootstrap status indicators (.badge, .alert, .btn, .text-*, .bg-*) */
[data-theme="dark"] p:not([class*="text-"]),
[data-theme="dark"] span:not(.badge):not([class*="text-"]):not([class*="spinner"]),
[data-theme="dark"] div:not(.btn):not(.badge):not(.alert):not([class*="bg-"]):not([class*="text-"]),
[data-theme="dark"] label,
[data-theme="dark"] small:not([class*="text-"]),
[data-theme="dark"] strong:not([class*="text-"]),
[data-theme="dark"] b,
[data-theme="dark"] em,
[data-theme="dark"] i:not([class*="text-"]),
[data-theme="dark"] li:not(.list-group-item),
[data-theme="dark"] td,
[data-theme="dark"] th {
  color: var(--text-primary);
}

[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
  color: var(--text-primary);
}

/* Override inline styles with hardcoded dark colors - use attribute selectors */
[data-theme="dark"] [style*="color: #212529"],
[data-theme="dark"] [style*="color:#212529"],
[data-theme="dark"] [style*="color: #202124"],
[data-theme="dark"] [style*="color:#202124"],
[data-theme="dark"] [style*="color: #1a202c"],
[data-theme="dark"] [style*="color:#1a202c"],
[data-theme="dark"] [style*="color: #5f6368"],
[data-theme="dark"] [style*="color:#5f6368"],
[data-theme="dark"] [style*="color: rgb(33, 37, 41)"],
[data-theme="dark"] [style*="color:rgb(33, 37, 41)"] {
  color: var(--text-primary) !important;
}

/* Override inline background colors for dark mode */
[data-theme="dark"] [style*="background-color: #f8f9fa"],
[data-theme="dark"] [style*="background-color:#f8f9fa"],
[data-theme="dark"] [style*="background-color: #ffffff"],
[data-theme="dark"] [style*="background-color:#ffffff"],
[data-theme="dark"] [style*="background: #f8f9fa"],
[data-theme="dark"] [style*="background:#f8f9fa"],
[data-theme="dark"] [style*="background: #ffffff"],
[data-theme="dark"] [style*="background:#ffffff"] {
  background-color: var(--bg-tertiary) !important;
  background: var(--bg-tertiary) !important;
}

/* Lesson View Container - Same background color for both light and dark mode */
.lesson-view-container,
[data-theme="dark"] .lesson-view-container {
  background-color: #DFEDDF !important;
  background: #DFEDDF !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .lesson-view-container * {
  color: var(--text-primary) !important;
}

[data-theme="dark"] a:not(.btn):not(.nav-link):not(.dropdown-item) {
  color: var(--primary-color, #33AD63) !important;
}

[data-theme="dark"] a:not(.btn):not(.nav-link):not(.dropdown-item):hover {
  color: var(--skn-green-light, #66C88F) !important;
}

/* Bootstrap Overrides for Dark Mode */
[data-theme="dark"] .bg-light {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .bg-white {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .text-dark {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .text-muted {
  color: var(--text-tertiary) !important;
}

[data-theme="dark"] .border {
  border-color: var(--border-primary) !important;
}

/* Cards */
[data-theme="dark"] .card {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .card-header {
  background-color: var(--bg-tertiary) !important;
  border-bottom-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .card-body {
  color: var(--text-primary) !important;
  background-color: var(--bg-secondary) !important;
}

/* Override Bootstrap bg-white class in dark mode */
[data-theme="dark"] .bg-white,
[data-theme="dark"] .card-header.bg-white {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* Override Bootstrap bg-light class in dark mode */
[data-theme="dark"] .bg-light {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
}

/* Forms */
[data-theme="dark"] .form-control {
  background-color: var(--bg-tertiary);
  border-color: var(--border-primary);
  color: var(--text-primary);
}

[data-theme="dark"] .form-control:focus {
  background-color: var(--bg-tertiary);
  border-color: var(--primary-color, #009639);
  color: var(--text-primary);
  box-shadow: 0 0 0 0.2rem rgba(0, 150, 57, 0.25);
}

[data-theme="dark"] .form-select {
  background-color: var(--bg-tertiary);
  border-color: var(--border-primary);
  color: var(--text-primary);
}

[data-theme="dark"] .form-label {
  color: var(--text-primary);
}

/* Buttons */
[data-theme="dark"] .btn-outline-secondary {
  border-color: var(--border-primary);
  color: var(--text-primary);
}

[data-theme="dark"] .btn-outline-secondary:hover {
  background-color: var(--bg-tertiary);
  border-color: var(--border-secondary);
  color: var(--text-primary);
}

/* Navbar */
[data-theme="dark"] .navbar {
  background-color: var(--bg-secondary) !important;
  border-bottom-color: var(--border-primary);
}

[data-theme="dark"] .navbar-glass {
  background-color: var(--bg-secondary) !important;
  border-bottom-color: var(--border-primary);
}

[data-theme="dark"] .navbar-brand,
[data-theme="dark"] .nav-link {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .nav-link:hover {
  color: var(--text-secondary) !important;
  background: rgba(0, 150, 57, 0.1) !important;
}

[data-theme="dark"] .nav-link.active {
  color: var(--primary-color, #009639) !important;
  background: rgba(0, 150, 57, 0.15) !important;
}

[data-theme="dark"] .navbar .dropdown-menu {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-primary) !important;
}

[data-theme="dark"] .navbar .dropdown-item {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .navbar .dropdown-item:hover {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
}

/* Dropdowns */
[data-theme="dark"] .dropdown-menu {
  background-color: var(--bg-secondary);
  border-color: var(--border-primary);
}

[data-theme="dark"] .dropdown-item {
  color: var(--text-primary);
}

[data-theme="dark"] .dropdown-item:hover {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
}

[data-theme="dark"] .dropdown-divider {
  border-top-color: var(--border-primary);
}

/* Alerts */
[data-theme="dark"] .alert-info {
  background-color: rgba(0, 150, 57, 0.2);
  border-color: rgba(0, 150, 57, 0.3);
  color: var(--text-primary);
}

[data-theme="dark"] .alert-success {
  background-color: rgba(0, 150, 57, 0.2);
  border-color: rgba(0, 150, 57, 0.3);
  color: var(--text-primary);
}

[data-theme="dark"] .alert-warning {
  background-color: rgba(252, 209, 22, 0.2);
  border-color: rgba(252, 209, 22, 0.3);
  color: var(--text-primary);
}

[data-theme="dark"] .alert-danger {
  background-color: rgba(206, 17, 38, 0.2);
  border-color: rgba(206, 17, 38, 0.3);
  color: var(--text-primary);
}

/* Modals */
[data-theme="dark"] .modal-content {
  background-color: var(--bg-secondary);
  border-color: var(--border-primary);
  color: var(--text-primary);
}

[data-theme="dark"] .modal-header {
  border-bottom-color: var(--border-primary);
}

[data-theme="dark"] .modal-footer {
  border-top-color: var(--border-primary);
}

[data-theme="dark"] .btn-close {
  filter: invert(1);
}

/* Tables */
[data-theme="dark"] .table {
  color: var(--text-primary);
}

[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > td {
  background-color: var(--bg-tertiary);
}

[data-theme="dark"] .table-hover > tbody > tr:hover > td {
  background-color: var(--bg-tertiary);
}

/* List Groups */
[data-theme="dark"] .list-group-item {
  background-color: var(--bg-secondary);
  border-color: var(--border-primary);
  color: var(--text-primary);
}

[data-theme="dark"] .list-group-item.active {
  background-color: var(--primary-color, #009639);
  border-color: var(--primary-color, #009639);
}

/* Badges */
[data-theme="dark"] .badge {
  color: var(--text-primary);
}

/* Progress Bars */
[data-theme="dark"] .progress {
  background-color: var(--bg-tertiary);
}

/* Code Blocks */
[data-theme="dark"] code,
[data-theme="dark"] pre {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
}

/* Links */
[data-theme="dark"] a {
  color: var(--primary-color, #009639);
}

[data-theme="dark"] a:hover {
  color: var(--primary-hover, #00702B);
}

/* Images */
[data-theme="dark"] img {
  opacity: 0.9;
}

/* Container and Layout */
[data-theme="dark"] .container,
[data-theme="dark"] .container-fluid {
  background-color: transparent;
}

[data-theme="dark"] .App {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Page Content Areas */
[data-theme="dark"] .lesson-content,
[data-theme="dark"] .content-item,
[data-theme="dark"] .classwork-item {
  background-color: var(--bg-secondary);
  border-color: var(--border-primary);
  color: var(--text-primary);
}

/* Custom Components */
[data-theme="dark"] .profile-avatar {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
}

[data-theme="dark"] .profile-dropdown-trigger {
  color: var(--text-primary);
}

/* Dashboard Cards */
[data-theme="dark"] .dashboard-card,
[data-theme="dark"] .stat-card,
[data-theme="dark"] .quick-access-card {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .dashboard-card:hover,
[data-theme="dark"] .stat-card:hover,
[data-theme="dark"] .quick-access-card:hover {
  background-color: var(--bg-tertiary) !important;
  border-color: var(--border-secondary) !important;
}

[data-theme="dark"] .stat-card-value {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .stat-card-title {
  color: var(--text-secondary) !important;
}

/* All text elements */
[data-theme="dark"] .text-dark,
[data-theme="dark"] .text-black {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .text-muted {
  color: var(--text-tertiary) !important;
}

[data-theme="dark"] .text-secondary {
  color: var(--text-secondary) !important;
}

/* Content items and lesson cards - Use the same background color in dark mode */
[data-theme="dark"] .content-item,
[data-theme="dark"] .classwork-item,
[data-theme="dark"] .lesson-item,
[data-theme="dark"] .learning-item {
  background-color: #DFEDDF !important;
  background: #DFEDDF !important;
  color: var(--text-primary) !important;
  border-color: var(--border-primary) !important;
}

[data-theme="dark"] .classwork-item:hover,
[data-theme="dark"] .classwork-item.selected,
[data-theme="dark"] .classwork-item.expanded {
  background-color: #c8e0c8 !important;
  background: #c8e0c8 !important;
  border-left-color: var(--primary-color, #33AD63) !important;
}

[data-theme="dark"] .classwork-title,
[data-theme="dark"] .classwork-content,
[data-theme="dark"] .classwork-content * {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .classwork-date,
[data-theme="dark"] .classwork-menu {
  color: var(--text-tertiary) !important;
}

[data-theme="dark"] .classwork-menu:hover {
  background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] .classwork-info-box {
  background-color: rgba(255, 255, 255, 0.3) !important;
  background: rgba(255, 255, 255, 0.3) !important;
  color: var(--text-primary) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}

.classwork-info-box {
  background-color: rgba(255, 255, 255, 0.3) !important;
  background: rgba(255, 255, 255, 0.3) !important;
}

[data-theme="dark"] .classwork-info-box h6 {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .classwork-text-content {
  background-color: rgba(255, 255, 255, 0.3) !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}

.classwork-text-content {
  background-color: rgba(255, 255, 255, 0.3) !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .classwork-text-content * {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .classwork-action-btn {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .classwork-action-btn:hover {
  background-color: var(--bg-tertiary) !important;
  border-color: var(--border-secondary) !important;
}

[data-theme="dark"] .classwork-action-btn.primary {
  background-color: var(--primary-color, #33AD63) !important;
  border-color: var(--primary-color, #33AD63) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .classwork-actions {
  border-top-color: var(--border-primary) !important;
}

[data-theme="dark"] .content-item *,
[data-theme="dark"] .classwork-item *,
[data-theme="dark"] .lesson-item *,
[data-theme="dark"] .learning-item * {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .content-item .text-muted,
[data-theme="dark"] .classwork-item .text-muted,
[data-theme="dark"] .lesson-item .text-muted {
  color: var(--text-tertiary) !important;
}

/* Buttons and links in content */
[data-theme="dark"] .btn-link {
  color: var(--primary-color, #33AD63) !important;
}

[data-theme="dark"] .btn-link:hover {
  color: var(--skn-green-light, #66C88F) !important;
}

/* Content Cards */
[data-theme="dark"] .content-card,
[data-theme="dark"] .lesson-card {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

/* Tables */
[data-theme="dark"] .table {
  background-color: transparent !important;
}

[data-theme="dark"] .table thead {
  background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] .table thead th {
  color: var(--text-primary) !important;
  border-color: var(--border-primary) !important;
}

[data-theme="dark"] .table tbody tr {
  border-color: var(--border-primary) !important;
  background-color: transparent !important;
}

[data-theme="dark"] .table tbody td {
  color: var(--text-primary) !important;
  border-color: var(--border-primary) !important;
}

[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] .table-hover > tbody > tr:hover {
  background-color: var(--bg-secondary) !important;
}

/* Forms and Inputs */
[data-theme="dark"] .input-group-text {
  background-color: var(--bg-tertiary) !important;
  border-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

/* Buttons */
[data-theme="dark"] .btn-light {
  background-color: var(--bg-tertiary) !important;
  border-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .btn-light:hover {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-secondary) !important;
}

/* Search and Filters */
[data-theme="dark"] .search-bar,
[data-theme="dark"] .filter-dropdown {
  background-color: var(--bg-tertiary);
  border-color: var(--border-primary);
  color: var(--text-primary);
}

/* Badges and Labels */
[data-theme="dark"] .badge {
  color: var(--text-primary);
}

[data-theme="dark"] .badge.bg-light {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
}

/* Smooth transitions */
* {
  transition: background-color var(--transition-base, 200ms) ease-in-out,
              color var(--transition-base, 200ms) ease-in-out,
              border-color var(--transition-base, 200ms) ease-in-out;
}

/* Skip transitions for performance-critical elements */
[data-theme="dark"] .no-transition,
[data-theme="dark"] .no-transition * {
  transition: none !important;
}

/* Curriculum Pages Dark Mode Support */
[data-theme="dark"] .skn-container,
[data-theme="dark"] .skn-f2-container,
[data-theme="dark"] .skn-ss-container,
[data-theme="dark"] .skn-ss2-container {
  background-color: var(--skn-bg, #1a202c) !important;
  color: var(--skn-text, #f7fafc) !important;
}

[data-theme="dark"] .skn-main,
[data-theme="dark"] .skn-f2-main,
[data-theme="dark"] .skn-ss-main,
[data-theme="dark"] .skn-ss2-main {
  background-color: transparent !important;
  color: var(--skn-text, #f7fafc) !important;
}

[data-theme="dark"] .skn-intro-card,
[data-theme="dark"] .skn-f2-intro-card,
[data-theme="dark"] .skn-ss-intro-card,
[data-theme="dark"] .skn-ss2-intro-card {
  background-color: var(--skn-card, #2d3748) !important;
  border-color: var(--skn-border, #4a5568) !important;
  color: var(--skn-text, #f7fafc) !important;
}

[data-theme="dark"] .skn-collapsible,
[data-theme="dark"] .skn-f2-collapsible,
[data-theme="dark"] .skn-ss-collapsible,
[data-theme="dark"] .skn-ss2-collapsible {
  background-color: var(--skn-card, #2d3748) !important;
  border-color: var(--skn-border, #4a5568) !important;
}

[data-theme="dark"] .skn-competency-item,
[data-theme="dark"] .skn-f2-competency-item,
[data-theme="dark"] .skn-ss-competency-item,
[data-theme="dark"] .skn-ss2-competency-item {
  background-color: var(--skn-card, #2d3748) !important;
  border-color: var(--skn-border, #4a5568) !important;
  color: var(--skn-text, #f7fafc) !important;
}

[data-theme="dark"] .skn-badge:not(.skn-badge-highlight),
[data-theme="dark"] .skn-f2-badge:not(.skn-f2-badge-highlight),
[data-theme="dark"] .skn-ss-badge:not(.skn-ss-badge-highlight),
[data-theme="dark"] .skn-ss2-badge:not(.skn-ss2-badge-highlight) {
  background: rgba(45, 55, 72, 0.95) !important;
  color: var(--skn-text, #f7fafc) !important;
  border-color: var(--skn-border, #4a5568) !important;
}

[data-theme="dark"] .skn-badge svg:not(.skn-badge-highlight svg),
[data-theme="dark"] .skn-f2-badge svg:not(.skn-f2-badge-highlight svg),
[data-theme="dark"] .skn-ss-badge svg:not(.skn-ss-badge-highlight svg),
[data-theme="dark"] .skn-ss2-badge svg:not(.skn-ss2-badge-highlight svg) {
  color: var(--skn-text, #f7fafc) !important;
}

/* Homepage Dark Mode */
[data-theme="dark"] .homepage-container {
  background-color: var(--hp-bg-light, #1a202c) !important;
  color: var(--hp-text-dark, #f7fafc) !important;
}

[data-theme="dark"] .feature-card {
  background-color: var(--bg-secondary, #2d3748) !important;
  border-color: var(--border-primary, #4a5568) !important;
  color: var(--text-primary, #f7fafc) !important;
}

[data-theme="dark"] .feature-card:hover {
  border-color: rgba(0, 150, 57, 0.3) !important;
}

[data-theme="dark"] .stats-section {
  background-color: var(--bg-secondary, #2d3748) !important;
  border-color: var(--border-primary, #4a5568) !important;
}

[data-theme="dark"] .homepage-footer {
  background-color: var(--bg-secondary, #2d3748) !important;
  border-color: var(--border-primary, #4a5568) !important;
  color: var(--text-primary, #f7fafc) !important;
}

/* Lesson Plan Components Dark Mode */
[data-theme="dark"] .white-space-pre-wrap,
[data-theme="dark"] .white-space-pre-wrap * {
  color: var(--text-primary, #f7fafc) !important;
}

[data-theme="dark"] h6,
[data-theme="dark"] .h6 {
  color: var(--text-primary, #f7fafc) !important;
}

[data-theme="dark"] strong {
  color: var(--text-primary, #f7fafc) !important;
}

/* Ensure all text in Card.Body is visible in dark mode */
[data-theme="dark"] .card-body *:not(.btn):not(.badge):not(.alert) {
  color: var(--text-primary, #f7fafc) !important;
}

[data-theme="dark"] .card-body .text-muted {
  color: var(--text-tertiary, #cbd5e0) !important;
}

[data-theme="dark"] .card-body .text-primary {
  color: var(--primary-color, #009639) !important;
}

